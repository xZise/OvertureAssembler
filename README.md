Assembler for the OVERTURE
==========================

In the game 'Turing Complete' you build an CPU with the OVERTURE architecture.
The builtin assembler works well, but because it is architecture agnostic it
doesn't validate certain states (e.g. the immediate "overflowing").

# Usage

Provide it with a file and it'll generate a list of decimal numbers intended
for you to copy them into the program block of the game.

With `--binary` it'll print the list of numbers in binary to inspect the
generated byte code.

With `--output` it'll output the decimal numbers into any file. The `--binary`
flag does not change the format of this output.

# Instructions
Required parameters of instructions are placed inside `<` and `>`, while optional parameters are placed inside `[` and `]`.

## Data operations
 Instruction        | Description
--------------------|-------------
 `mov <dest> <src>` | copies the value from register `src` to `dest`. Can be any register r0 to r5 and in (src only) or out (dest only). (src and dest must be different when they aren't in and out)
 `li <imm>`         | loads the immediate value (`imm`) into register 0. The immediate must be in range 0 to 63.

## Arithmetic operations
 Instruction        | Description 
--------------------|-------------
  `or`              | copies the result of 'bitwise or' between `r1` and `r2` into `r3`
  `nor`             | copies the result of 'bitwise nor' between `r1` and `r2` into `r3`
  `and`             | copies the result of 'bitwise and' between `r1` and `r2` into `r3`
  `nand`            | copies the result of 'bitwise nand' between `r1` and `r2` into `r3`
  `add`             | copies the sum of `r1` and `r2` into `r3`
  `sub`             | copies the difference between `r1` and `r2` into `r3`

## Conditional operations
 Instruction   | Description 
---------------|-------------
  `j [lbl]`    | Makes an unconditional jump to the instruction address of `r0` or `lbl`
  `je [lbl]`   | When `r3` is equal to 0, jumps to the instruction address of `r0` or `lbl`
  `jne [lbl]`  | When `r3` is not equal to 0, jumps to the instruction address of `r0` or `lbl`
  `jgt [lbl]`  | When `r3` is greater than 0, jumps to the instruction address of `r0` or `lbl`
  `jgte [lbl]` | When `r3` is greater than or equal to 0, jumps to the instruction address of `r0` or `lbl`
  `jlt [lbl]`  | When `r3` is less than 0, jumps to the instruction address of `r0` or `lbl`
  `jlte [lbl]` | When `r3` is less than or equal to 0, jumps to the instruction address of `r0` or `lbl`

Note: When `lbl` is present, it'll insert an immediate load to the label and overwrite `r0`!

## Additional notes
- Labels are indicated by a name and colon (`:`)
- Immediates are by default encoded in decimal. In hexadecimal when it is either prefixed by `0x` or suffixed by `h`. In binary when it is prefixed by `0b`.
- Everything after `#` is ignored.